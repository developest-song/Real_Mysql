< 트랜잭션 >
잠금 - 동시성을 제어하기 위한 기능
트랜잭션 - 데이터 정합성을 보장하기 위한 기능

Mysql에서의 트랜잭션
** 하나의 논리적인 작업 셋에 쿼리의 갯수와 상관 없이 작업 셋 자체가 100%로 적용 되거나(COMMIT)
아무것도 적용되지 않아야 함을 보장해주는 것이다. **
MyISAM과 InnoDB에서의 작업 비교
1) Table을 만들고 3(pk)을 insert 한다. 
2) 1, 2, 3 insert
3) MyISAM은 1,2는 insert 되고 3에서 쿼리 중단 // InnoDB는 쿼리 자체가 중단
* MyISAM에서 Partial Update(부분 업데이트)가 일어나게 된다.

주의사항 - 프로그램 코드에서 트랜잭션의 범위를 최소화해야 한다.
DBMS의 트랜잭션은 저장되는 부분을 넣고
메일 전송, FTP 파일전송 등 네트워크 통신 관련은 제거, 
성격이 다른 것도 구분해서 범위 수정해야 한다. 

Mysql 엔진의 잠금
Mysql 엔진 레벨의 잠금은 모든 스토리지 엔진에 영향을 미치지만, 스토리지 엔진 레벨의 잠금은 스토리지 엔진 간 상호 영향을 미치지는 않는다. 

글로벌 락 - FLUSH TABLES WITH READ LOCK // 범위가 가장 큰 잠금 
범위 - Mysql 서버 전체, DDL DML 실행 대기(SELECT 제외) 
테이블이나 데이터베이스가 달라도 동일하게 영향을 미친다.
또한, 락을 획득하기 위해서는 모든 종류의 쿼리가 완료되어야 한다.
8.0부터는 InnoDB가 기본 스토리지 엔진으로 채택되면서 조금 더 가벼운 글로벌 락의 필요성 이 생겼다.
Xtrabackup, Enterprise Backup과 같은 백업 툴들의 안정적인 실행을 위해 백업 락이 도입 됐다.
mysql> LOCK INSTANCE FOR BACKUP; // 실행
mysql> UNLOCK INSTANCE;
특정 세션에서 백업 락을 획득 시 다음과 같은 정보 변경 불가
- 데이터베이스 및 테이블 등 모든 객체 생성 및 변경, 삭제
- REPAIR TABLE과 OPTIMIZE TABLE 명령
- 사용자 관리 및 비밀번호 변경

하지만 일반적인 테이블의 데이터 변경은 허용.

테이블 락 

